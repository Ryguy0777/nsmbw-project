// d_a_nice_boat.cpp
// NSMBW d_bases.text: 0x8086EEA0 - 0x808724E0

#include "d_a_nice_boat.h"

u32 daNiceBoat_c_sizeof = sizeof(daNiceBoat_c);

daNiceBoat_c* daNiceBoat_c_classInit() ASM_METHOD(
  // clang-format off
/* 8086EEA0 9421FFE0 */  stwu     r1, -32(r1);
/* 8086EEA4 7C0802A6 */  mflr     r0;
/* 8086EEAC 90010024 */  stw      r0, 36(r1);
/* 8086EEB0 93E1001C */  stw      r31, 28(r1);
/* 8086EEB4 93C10018 */  stw      r30, 24(r1);
/* 8086EEB8 93A10014 */  stw      r29, 20(r1);
                         lis      r3, daNiceBoat_c_sizeof@ha;
                         lwz      r3, daNiceBoat_c_sizeof@l(r3);
/* 8086EEBC 4B8F3B45 */  bl       UNDEF_80162a00;
/* 8086EEC0 2C030000 */  cmpwi    r3, 0;
/* 8086EEC4 7C7D1B78 */  mr       r29, r3;
/* 8086EEC8 41820190 */  beq-     UNDEF_8086f058;
/* 8086EECC 4B7F80F5 */  bl       UNDEF_80066fc0;
/* 8086EED0 3C808030 */  lis      r4, UNDEF_803076c0@ha;
/* 8086EED4 387D03D0 */  addi     r3, r29, 976;
/* 8086EED8 388476C0 */  addi     r4, r4, UNDEF_803076c0@l;
/* 8086EEDC 909D0060 */  stw      r4, 96(r29);
/* 8086EEE0 4B86C341 */  bl       UNDEF_800db220;
/* 8086EEE4 3C808097 */  lis      r4, UNDEF_80971794@ha;
/* 8086EEE8 387D0458 */  addi     r3, r29, 1112;
/* 8086EEEC 38841794 */  addi     r4, r4, UNDEF_80971794@l;
/* 8086EEF0 909D0060 */  stw      r4, 96(r29);
/* 8086EEF4 4B7FA12D */  bl       UNDEF_80069020;
/* 8086EEF8 3BC00000 */  li       r30, 0;
/* 8086EEFC 93DD0474 */  stw      r30, 1140(r29);
/* 8086EF00 387D0478 */  addi     r3, r29, 1144;
/* 8086EF04 4B8FAF0D */  bl       UNDEF_80169e10;
/* 8086EF08 3FE08033 */  lis      r31, UNDEF_80329920@ha;
/* 8086EF0C 387D04C4 */  addi     r3, r29, 1220;
/* 8086EF10 3BFF9920 */  addi     r31, r31, UNDEF_80329920@l;
/* 8086EF14 93FD04B8 */  stw      r31, 1208(r29);
/* 8086EF18 93DD04BC */  stw      r30, 1212(r29);
/* 8086EF1C 93DD04C0 */  stw      r30, 1216(r29);
/* 8086EF20 4B8FB801 */  bl       UNDEF_8016a720;
/* 8086EF24 3C608033 */  lis      r3, UNDEF_80329890@ha;
/* 8086EF28 38639890 */  addi     r3, r3, UNDEF_80329890@l;
/* 8086EF2C 907D04B8 */  stw      r3, 1208(r29);
/* 8086EF30 387D04F0 */  addi     r3, r29, 1264;
/* 8086EF34 93DD04E0 */  stw      r30, 1248(r29);
/* 8086EF38 93FD04E4 */  stw      r31, 1252(r29);
/* 8086EF3C 93DD04E8 */  stw      r30, 1256(r29);
/* 8086EF40 93DD04EC */  stw      r30, 1260(r29);
/* 8086EF44 4B8FB7DD */  bl       UNDEF_8016a720;
/* 8086EF48 3C608033 */  lis      r3, UNDEF_803298c0@ha;
/* 8086EF4C 386398C0 */  addi     r3, r3, UNDEF_803298c0@l;
/* 8086EF50 907D04E4 */  stw      r3, 1252(r29);
/* 8086EF54 387D051C */  addi     r3, r29, 1308;
/* 8086EF58 93DD050C */  stw      r30, 1292(r29);
/* 8086EF5C 93FD0510 */  stw      r31, 1296(r29);
/* 8086EF60 93DD0514 */  stw      r30, 1300(r29);
/* 8086EF64 93DD0518 */  stw      r30, 1304(r29);
/* 8086EF68 4B8FB7B9 */  bl       UNDEF_8016a720;
/* 8086EF6C 3C608033 */  lis      r3, UNDEF_80329860@ha;
/* 8086EF70 38639860 */  addi     r3, r3, UNDEF_80329860@l;
/* 8086EF74 907D0510 */  stw      r3, 1296(r29);
/* 8086EF78 387D053C */  addi     r3, r29, 1340;
/* 8086EF7C 93DD0538 */  stw      r30, 1336(r29);
/* 8086EF80 4B8FB901 */  bl       UNDEF_8016a880;
/* 8086EF84 3C808031 */  lis      r4, UNDEF_80317b78@ha;
/* 8086EF88 3C608094 */  lis      r3, UNDEF_80939bb0@ha;
/* 8086EF8C 38847B78 */  addi     r4, r4, UNDEF_80317b78@l;
/* 8086EF90 909D0558 */  stw      r4, 1368(r29);
/* 8086EF94 C0039BB0 */  lfs      f0, UNDEF_80939bb0@l(r3);
/* 8086EF98 3C808087 */  lis      r4, UNDEF_8086f080@ha;
/* 8086EF9C D01D0568 */  stfs     f0, 1384(r29);
/* 8086EFA0 3CA08087 */  lis      r5, UNDEF_8086f110@ha;
/* 8086EFA4 387D0574 */  addi     r3, r29, 1396;
/* 8086EFA8 3884F080 */  addi     r4, r4, UNDEF_8086f080@l;
/* 8086EFAC 93DD056C */  stw      r30, 1388(r29);
/* 8086EFB0 38A5F110 */  addi     r5, r5, UNDEF_8086f110@l;
/* 8086EFB4 38C000E8 */  li       r6, 232;
/* 8086EFB8 38E00002 */  li       r7, 2;
/* 8086EFBC 93DD0570 */  stw      r30, 1392(r29);
/* 8086EFC0 4BA6DCD1 */  bl       UNDEF_802dcc90;
/* 8086EFC4 3C808087 */  lis      r4, UNDEF_8086f190@ha;
/* 8086EFC8 3CA08087 */  lis      r5, UNDEF_8086f1f0@ha;
/* 8086EFCC 387D0744 */  addi     r3, r29, 1860;
/* 8086EFD0 38C00090 */  li       r6, 144;
/* 8086EFD4 3884F190 */  addi     r4, r4, UNDEF_8086f190@l;
/* 8086EFD8 38A5F1F0 */  addi     r5, r5, UNDEF_8086f1f0@l;
/* 8086EFDC 38E00005 */  li       r7, 5;
/* 8086EFE0 4BA6DCB1 */  bl       UNDEF_802dcc90;
/* 8086EFE4 3BFD0A5C */  addi     r31, r29, 2652;
/* 8086EFE8 7FE3FB78 */  mr       r3, r31;
/* 8086EFEC 4BA68DA5 */  bl       UNDEF_802d7d90;
/* 8086EFF0 3C608033 */  lis      r3, UNDEF_80329ca0@ha;
/* 8086EFF4 3C80800E */  lis      r4, UNDEF_800db540@ha;
/* 8086EFF8 38639CA0 */  addi     r3, r3, UNDEF_80329ca0@l;
/* 8086EFFC 907F0000 */  stw      r3, 0(r31);
/* 8086F000 3CA08080 */  lis      r5, UNDEF_80801f70@ha;
/* 8086F004 3884B540 */  addi     r4, r4, UNDEF_800db540@l;
/* 8086F008 93DF0114 */  stw      r30, 276(r31);
/* 8086F00C 387D0B84 */  addi     r3, r29, 2948;
/* 8086F010 38A51F70 */  addi     r5, r5, UNDEF_80801f70@l;
/* 8086F014 38C0005C */  li       r6, 92;
/* 8086F018 93DF0118 */  stw      r30, 280(r31);
/* 8086F01C 38E00006 */  li       r7, 6;
/* 8086F020 9BDF011C */  stb      r30, 284(r31);
/* 8086F024 9BDF011D */  stb      r30, 285(r31);
/* 8086F028 93DF0120 */  stw      r30, 288(r31);
/* 8086F02C 93DF0124 */  stw      r30, 292(r31);
/* 8086F030 4BA6DC61 */  bl       UNDEF_802dcc90;
/* 8086F034 3C808097 */  lis      r4, UNDEF_80971878@ha;
/* 8086F038 3C608032 */  lis      r3, UNDEF_80319090@ha;
/* 8086F03C 38841878 */  addi     r4, r4, UNDEF_80971878@l;
/* 8086F040 909D0DB4 */  stw      r4, 3508(r29);
/* 8086F044 38639090 */  addi     r3, r3, UNDEF_80319090@l;
/* 8086F048 93BD0DB8 */  stw      r29, 3512(r29);
/* 8086F04C 907D0DBC */  stw      r3, 3516(r29);
/* 8086F050 93DD0DC0 */  stw      r30, 3520(r29);
/* 8086F054 9BDD0DEC */  stb      r30, 3564(r29);
UNDEF_8086f058:;
/* 8086F058 83E1001C */  lwz      r31, 28(r1);
/* 8086F05C 7FA3EB78 */  mr       r3, r29;
/* 8086F060 83C10018 */  lwz      r30, 24(r1);
/* 8086F064 83A10014 */  lwz      r29, 20(r1);
/* 8086F068 80010024 */  lwz      r0, 36(r1);
/* 8086F06C 7C0803A6 */  mtlr     r0;
/* 8086F070 38210020 */  addi     r1, r1, 32;
/* 8086F074 4E800020 */  blr;
  // clang-format on
);

[[address(0x80871440)]]
int daNiceBoat_c::calcPlayerOnRide() ASM_METHOD(
  // clang-format off
/* 80871440 9421FFB0 */  stwu     r1, -80(r1);
/* 80871444 7C0802A6 */  mflr     r0;
/* 80871448 90010054 */  stw      r0, 84(r1);
/* 8087144C 39610040 */  addi     r11, r1, 64;
/* 80871450 DBE10040 */  stfd     f31, 64(r1);
/* 80871454 F3E10048 */  .long    0xF3E10048; // psq_st   f31, 72(r1), 0, 0;
/* 80871458 4BA6BBF1 */  bl       UNDEF_802dd048;
/* 8087145C 7C761B78 */  mr       r22, r3;
/* 80871460          */  addi     r4, r3, OFFSET_mPlayerRideStatus;
/* 80871464          */  addi     r5, r3, OFFSET_mPlayerRideStatus + PLAYER_COUNT;
UNDEF_80871468:;
/* 80871468 88640000 */  lbz      r3, 0(r4);
/* 8087146C 2C030000 */  cmpwi    r3, 0;
/* 80871470 4182000C */  beq-     UNDEF_8087147c;
/* 80871474 3803FFFF */  subi     r0, r3, 1;
/* 80871478 98040000 */  stb      r0, 0(r4);
UNDEF_8087147c:;
/* 8087147C 38840001 */  addi     r4, r4, 1;
/* 80871480 7C042840 */  cmplw    r4, r5;
/* 80871484 4180FFE4 */  blt+     UNDEF_80871468;
/* 80871488 38610008 */  addi     r3, r1, 8;
/* 8087148C 38800000 */  li       r4, 0;
/* 80871490 38A00005 */  li       r5, 5;
/* 80871494 4B8EF77D */  bl       UNDEF_80160c10;
/* 80871498 3C608094 */  lis      r3, UNDEF_80939c64@ha;
/* 8087149C 3B760B84 */  addi     r27, r22, 2948;
/* 808714A0 C3E39C64 */  lfs      f31, UNDEF_80939c64@l(r3);
/* 808714A4 3B560DAC */  addi     r26, r22, 3500;
/* 808714A8 3BE10008 */  addi     r31, r1, 8;
/* 808714AC 3B800000 */  li       r28, 0;
/* 808714B0 3BA00001 */  li       r29, 1;
/* 808714B4 3FC08094 */  lis      r30, UNDEF_80939c60@ha;
/* 808714B8 3AA00004 */  li       r21, 4;
UNDEF_808714bc:;
/* 808714BC 833B0010 */  lwz      r25, 16(r27);
/* 808714C0 48000184 */  b        UNDEF_80871644;
UNDEF_808714c4:;
/* 808714C4 82990004 */  lwz      r20, 4(r25);
/* 808714C8 3B000000 */  li       r24, 0;
/* 808714CC 8814038C */  lbz      r0, 908(r20);
/* 808714D0 28000001 */  cmplwi   r0, 1;
/* 808714D4 40820070 */  bne-     UNDEF_80871544;
/* 808714D8 81940060 */  lwz      r12, 96(r20);
/* 808714DC 7E83A378 */  mr       r3, r20;
/* 808714E0 818C006C */  lwz      r12, 108(r12);
/* 808714E4 7D8903A6 */  mtctr    r12;
/* 808714E8 4E800421 */  bctrl;
/* 808714EC 88030000 */  lbz      r0, 0(r3);
/* 808714F4          */  cmplwi   r0, PLAYER_COUNT;
/* 808714F8 40800084 */  bge-     UNDEF_8087157c;
/* 808714FC 7FA00030 */  slw      r0, r29, r0;
/* 80871500 7E98A378 */  mr       r24, r20;
/* 80871504 7E83A378 */  mr       r3, r20;
/* 80871508 7F9C0378 */  or       r28, r28, r0;
/* 8087150C 4B8BC815 */  bl       UNDEF_8012dd20;
/* 80871510 2C030000 */  cmpwi    r3, 0;
/* 80871514 41820068 */  beq-     UNDEF_8087157c;
/* 80871518 81830060 */  lwz      r12, 96(r3);
/* 8087151C 818C006C */  lwz      r12, 108(r12);
/* 80871520 7D8903A6 */  mtctr    r12;
/* 80871524 4E800421 */  bctrl;
/* 80871528 88030000 */  lbz      r0, 0(r3);
/* 80871530 28000004 */  cmplwi   r0, 4;
/* 80871534 40800048 */  bge-     UNDEF_8087157c;
/* 80871538 7FA00030 */  slw      r0, r29, r0;
/* 8087153C 7F9C0378 */  or       r28, r28, r0;
/* 80871540 4800003C */  b        UNDEF_8087157c;
UNDEF_80871544:;
/* 80871544 28000002 */  cmplwi   r0, 2;
/* 80871548 40820034 */  bne-     UNDEF_8087157c;
/* 8087154C 81940060 */  lwz      r12, 96(r20);
/* 80871550 7E83A378 */  mr       r3, r20;
/* 80871554 818C006C */  lwz      r12, 108(r12);
/* 80871558 7D8903A6 */  mtctr    r12;
/* 8087155C 4E800421 */  bctrl;
/* 80871560 88030000 */  lbz      r0, 0(r3);
/* 80871564 7C000774 */  extsb    r0, r0;
/* 80871568 28000004 */  cmplwi   r0, 4;
/* 8087156C 40800010 */  bge-     UNDEF_8087157c;
/* 80871570 7FA00030 */  slw      r0, r29, r0;
/* 80871574 7E98A378 */  mr       r24, r20;
/* 80871578 7F9C0378 */  or       r28, r28, r0;
UNDEF_8087157c:;
/* 8087157C 2C180000 */  cmpwi    r24, 0;
/* 80871580 418200C0 */  beq-     UNDEF_80871640;
/* 80871584 C03800AC */  lfs      f1, 172(r24);
/* 80871588 3AE00000 */  li       r23, 0;
/* 8087158C C01600AC */  lfs      f0, 172(r22);
/* 80871590 C05E9C60 */  lfs      f2, UNDEF_80939c60@l(r30);
/* 80871594 EC010028 */  fsubs    f0, f1, f0;
UNDEF_80871598:;
/* 80871598 EC42F82A */  fadds    f2, f2, f31;
/* 8087159C FC001040 */  fcmpo    cr0, f0, f2;
/* 808715A0 7C000026 */  mfcr     r0;
/* 808715A4 54000FFF */  srwi.    r0, r0, 31;
/* 808715A8 41820014 */  beq-     UNDEF_808715bc;
/* 808715AC 7C7FB8AE */  lbzx     r3, r31, r23;
/* 808715B0 38030001 */  addi     r0, r3, 1;
/* 808715B4 7C1FB9AE */  stbx     r0, r31, r23;
/* 808715B8 48000010 */  b        UNDEF_808715c8;
UNDEF_808715bc:;
/* 808715BC 3AF70001 */  addi     r23, r23, 1;
/* 808715C0 28170004 */  cmplwi   r23, 4;
/* 808715C4 4180FFD4 */  blt+     UNDEF_80871598;
UNDEF_808715c8:;
/* 808715C8 28170004 */  cmplwi   r23, 4;
/* 808715CC 40820010 */  bne-     UNDEF_808715dc;
/* 808715D0 7C7FB8AE */  lbzx     r3, r31, r23;
/* 808715D4 38030001 */  addi     r0, r3, 1;
/* 808715D8 7C1FB9AE */  stbx     r0, r31, r23;
UNDEF_808715dc:;
/* 808715DC 8818038C */  lbz      r0, 908(r24);
/* 808715E0 28000001 */  cmplwi   r0, 1;
/* 808715E4 4082005C */  bne-     UNDEF_80871640;
/* 808715E8 81980060 */  lwz      r12, 96(r24);
/* 808715EC 7F03C378 */  mr       r3, r24;
/* 808715F0 818C006C */  lwz      r12, 108(r12);
/* 808715F4 7D8903A6 */  mtctr    r12;
/* 808715F8 4E800421 */  bctrl;
/* 808715FC 88030000 */  lbz      r0, 0(r3);
/* 80871604          */  cmplwi   r0, PLAYER_COUNT;
/* 80871608 40800038 */  bge-     UNDEF_80871640;
/* 8087160C 7E960214 */  add      r20, r22, r0;
/* 80871610          */  lbz      r0, OFFSET_mPlayerRideStatus(r20);
/* 80871614 2C000000 */  cmpwi    r0, 0;
/* 80871618 40820028 */  bne-     UNDEF_80871640;
/* 8087161C 7F03C378 */  mr       r3, r24;
/* 80871620 3880001C */  li       r4, 28;
/* 80871624 4B7E56CD */  bl       UNDEF_80056cf0;
/* 80871628 2C030000 */  cmpwi    r3, 0;
/* 8087162C 41820014 */  beq-     UNDEF_80871640;
/* 80871630 7EC3B378 */  mr       r3, r22;
/* 80871634 7EE4BB78 */  mr       r4, r23;
/* 80871638 4BFFEEE9 */  bl       UNDEF_80870520;
/* 8087163C          */  stb      r21, OFFSET_mPlayerRideStatus(r20);
UNDEF_80871640:;
/* 80871640 8339000C */  lwz      r25, 12(r25);
UNDEF_80871644:;
/* 80871644 2C190000 */  cmpwi    r25, 0;
/* 80871648 4082FE7C */  bne+     UNDEF_808714c4;
/* 8087164C 3B7B005C */  addi     r27, r27, 92;
/* 80871650 7C1BD040 */  cmplw    r27, r26;
/* 80871654 4180FE68 */  blt+     UNDEF_808714bc;
/* 80871658 38760744 */  addi     r3, r22, 1860;
/* 8087165C 38810008 */  addi     r4, r1, 8;
/* 80871660 38A1000D */  addi     r5, r1, 13;
UNDEF_80871668:;
/* 80871668 88040000 */  lbz      r0, 0(r4);
/* 8087166C 38840001 */  addi     r4, r4, 1;
/* 80871670 7C042840 */  cmplw    r4, r5;
/* 80871674 9803003A */  stb      r0, 58(r3);
/* 80871678 38630090 */  addi     r3, r3, 144;
/* 8087167C 4180FFEC */  blt+     UNDEF_80871668;
/* 80871680 9B960E11 */  stb      r28, 3601(r22);
/* 80871684 38600000 */  li       r3, 0;
/* 80871688 38800000 */  li       r4, 0;
UNDEF_80871690:;
/* 80871690 38840001 */  addi     r4, r4, 1;
/* 80871694 578007FE */  clrlwi   r0, r28, 31;
/* 80871698          */  cmpwi    r4, PLAYER_COUNT;
/* 8087169C 579CF87E */  srwi     r28, r28, 1;
/* 808716A0 7C630214 */  add      r3, r3, r0;
/* 808716A4 4180FFEC */  blt+     UNDEF_80871690;
/* 808716A8 39610040 */  addi     r11, r1, 64;
/* 808716AC E3E10048 */  .long    0xE3E10048; // psq_l    f31, 72(r1), 0, 0;
/* 808716B0 CBE10040 */  lfd      f31, 64(r1);
/* 808716B4 4BA6B9E1 */  bl       UNDEF_802dd094;
/* 808716B8 80010054 */  lwz      r0, 84(r1);
/* 808716BC 7C0803A6 */  mtlr     r0;
/* 808716C0 38210050 */  addi     r1, r1, 80;
/* 808716C4 4E800020 */  blr;
  // clang-format on
);